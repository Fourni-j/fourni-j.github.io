---
layout_style: modern
---

<!DOCTYPE html>
<html lang="en-us">

{% include app-head.html %}

<body class="modern-layout modern-subpage">
    <header class="modern-header">
        <div class="modern-container">
            <nav class="modern-nav">
                <div class="modern-nav-left">
                    <div class="modern-app-branding">
                        <img class="modern-header-app-icon" src="{{ page.app_icon }}" alt="{{ page.app_name }}">
                        <span class="modern-header-app-name">{{ page.app_name }}</span>
                    </div>
                </div>
                <div class="modern-nav-right">
                    <div class="modern-nav-links">
                        {% if page.show_blog_link %}
                        <a href="/blog" class="modern-nav-link">Blog</a>
                        {% endif %}
                    </div>
                    <div class="modern-nav-cta">
                        <a class="modern-appstore-header-btn" href="https://apps.apple.com/us/app/id{{page.ios_app_id}}">
                            <img src="/assets/app-pages/appstore-header.svg" alt="Download on App Store">
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="modern-main">
        <div class="modern-page-content">
            <div class="modern-container">
                <article class="modern-article">
                    <h1 class="modern-page-title">{{ page.title }}</h1>
                    <div class="modern-content">
                        {{ content }}
                    </div>
                </article>
            </div>
        </div>
    </main>

    <footer class="modern-footer">
        <div class="modern-container">
            {% include app-footer.html %}
        </div>
    </footer>

    {% capture app_id %}{{page.ios_app_id}}{% endcapture %}
    {% include app-appstoreimages.html appid=app_id %}

    <script>
        // Modern header scroll animation and dark mode
        (function() {
            const header = document.querySelector('.modern-header');
            let isScrolling = false;
            
            // Dark mode functionality
            const isDevelopment = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
            
            function initDarkMode() {
                if (isDevelopment) {
                    // Debug mode: Add toggle button
                    const toggleBtn = document.createElement('button');
                    let currentTheme = 'system'; // 'system', 'light', 'dark'
                    
                    // Function to update theme
                    function updateTheme() {
                        document.body.classList.remove('light-theme', 'dark-theme');
                        
                        if (currentTheme === 'light') {
                            document.body.classList.add('light-theme');
                            toggleBtn.innerHTML = '🌙';
                        } else if (currentTheme === 'dark') {
                            document.body.classList.add('dark-theme');
                            toggleBtn.innerHTML = '☀️';
                        } else {
                            // System theme - no class, relies on CSS media query
                            const isSystemDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                            toggleBtn.innerHTML = isSystemDark ? '🔄' : '🔄';
                        }
                    }
                    
                    toggleBtn.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 1000;
                        background: rgba(0, 0, 0, 0.8);
                        color: white;
                        border: none;
                        border-radius: 50%;
                        width: 50px;
                        height: 50px;
                        font-size: 20px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                    `;
                    
                    toggleBtn.addEventListener('click', function() {
                        if (currentTheme === 'system') {
                            currentTheme = 'light';
                        } else if (currentTheme === 'light') {
                            currentTheme = 'dark';
                        } else {
                            currentTheme = 'system';
                        }
                        updateTheme();
                    });
                    
                    // Initialize
                    updateTheme();
                    document.body.appendChild(toggleBtn);
                    
                    // Listen for system theme changes to update the system indicator
                    if (window.matchMedia) {
                        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function() {
                            if (currentTheme === 'system') {
                                updateTheme();
                            }
                        });
                    }
                } else {
                    // Production mode: Follow system preference
                    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                        // System is in dark mode, but we rely on CSS media query
                        console.log('Dark mode detected via system preferences');
                    }
                    
                    // Listen for system theme changes
                    if (window.matchMedia) {
                        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
                            console.log('System theme changed to:', e.matches ? 'dark' : 'light');
                        });
                    }
                }
            }

            function updateHeader() {
                const scrollY = window.scrollY;
                
                // Add/remove scrolled class based on scroll position
                if (scrollY > 20) {
                    header.classList.add('modern-header-scrolled');
                } else {
                    header.classList.remove('modern-header-scrolled');
                }
            }

            // Throttle scroll events for better performance
            function throttleScroll() {
                if (!isScrolling) {
                    window.requestAnimationFrame(function() {
                        updateHeader();
                        isScrolling = false;
                    });
                    isScrolling = true;
                }
            }

            // Listen to scroll events
            window.addEventListener('scroll', throttleScroll, { passive: true });
            
            // Initialize
            updateHeader();
            initDarkMode();
        })();
    </script>
</body>
</html>